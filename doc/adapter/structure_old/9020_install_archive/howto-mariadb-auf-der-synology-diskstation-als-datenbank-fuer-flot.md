Anleitung zur Einrichtung von MariaDB auf einer Synology DiskStation für den SQL-Adapter von ioBroker einstellen. Diese Datenbank könnt ihr anschließend sehr einfach z.B. für den Flot-Adapter zur Anzeige der History-Werte nutzen. Fangen wir mal mit der Einrichtung auf der DiskStation unter DSM 6 an. Dazu müssen zunächst über das Paket-Zentrum die Pakete MariaDB und phpMyAdmin installiert werden, sofern noch nicht geschehen. Anschließend solltet ihr nach Klick auf das Hauptmenü diese beiden Pakete sehen.   ![Synology-SQL01.jpg](http://forum.iobroker.net/download/file.php?id=5752&t=1) MariaDB ist die eigentliche SQL-Datenbank. Diese braucht nun nicht mehr beachtet zu werden. Die Einrichtung erfolgt über phpMyAdmin. Nach Doppelklick auf das Icon öffnet sich das folgende Fenster. ![Synology-SQL02.jpg](http://forum.iobroker.net/download/file.php?id=5753) Gebt hier unter Benutzername "root" ein und klickt anschließend ohne Eingabe eines Passworts auf "OK". Es sollte sie die Benutzeroberfläche von phpMyAdmin öffnen. Nun geht es ans Einrichten der Datenbank und eines Benutzerkontos für den ioBroker. Zur Einrichtung der Datenbank klickt links auf "Neu" (1). Anschließend gebt ihr unter "Neue Datenbank anlegen" (2) einen Datenbanknamen (z.B. ioBroker) ein und bestätigt dies mit Klick auf den Button "Anlegen" (3). Nun sollte die Datenbank in der Liste (4) auftauchen.   ![Synology-SQL03.jpg](http://forum.iobroker.net/download/file.php?id=5755&t=1) Danach muss noch ein Benutzerkonto angelegt werden. Dazu klickt ihr links im Baum auf die angelegte Datenbank (1) und anschließend auf den Reiter "Rechte" (2). Schließlich klickt ihr unter "Neu" auf "Benutzerkonto hinzufügen" (3). ![Synology-SQL04.jpg](http://forum.iobroker.net/download/file.php?id=5754&t=1) Es öffnet sich ein weiteres Fenster, in dem ihr die Benutzerangaben eintragen müsst. Ich habe z.B. einen Nutzer "iobroker" (1) angelegt. Lasst unter "Hostname" am besten das %-Zeichen stehen (somit kann von jeder IP auf die Datenbank zugegriffen werden) und vergebt ein beliebiges Passwort. Achtet darauf, dass unter "Datenbank für Benutzerkonto" der Haken bei "Gewähre alle Rechte auf die Datenbank ..." (2) gesetzt ist und bestätigt das Ganz mit "OK". ![Synology-SQL05.jpg](http://forum.iobroker.net/download/file.php?id=5756&t=1) Solltet ihr mal ein angelegtes Benutzerkonto löschen wollen, so kann dies über den Reiter "Benutzerkonten" erfolgen. Dazu einfach einen Haken vor das betreffende Benutzerkonto setzen und unten unter "Die ausgewählten Benutzerkonten löschen" klicken. ![Synology-SQL06.jpg](http://forum.iobroker.net/download/file.php?id=5757&t=1)   Kommen wir nun zur Einrichtung des SQL-Adapters auf dem ioBroker. Auch dies ist mit wenigen Klicks erledigt. Nachdem ihr den Adapter installiert habt, klickt ihr unter dem Reiter "Instanzen" auf den Konfigurationsbutton von sql.0\. Es öffnet sich das folgende Fenster. Unter "DB Typ" müsst ihr "MySQL" auswählen (1). Anschließend gebt ihr unter "Host" die IP Eurer Synology DiskStation (2) sowie den zuvor angelegten Datenbanknamen (3) und das Benutzerkonto (4) an.   ![ioBroker-SQL01.PNG](http://forum.iobroker.net/download/file.php?id=5764&t=1) Testet anschließend die Verbindung durch Klick auf den Button "Verbindung testen" (5). Es sollte ein Fenster mit dem Eintrag "OK" aufpoppen. Falls hier eine Fehlermeldung angezeigt wird, stimmt etwas mit den zuvor eingegebenen Daten nicht. Im einfachsten Falle ist das Passwort falsch. Ist alles in Ordnung, schließt ihr das Fenster durch Klick auf "Speichern und schließen" (6). ![ioBroker-SQL02.PNG](http://forum.iobroker.net/download/file.php?id=5765&t=1) Im Grunde genommen ist damit bereits die Einrichtung des SQL-Adapters abgeschlossen. Nachfolgend müsst ihr lediglich noch die Datenpunkte auswählen, die in die Datenbank geschrieben werden sollen. Dazu klickt ihr auf den Reiter "Objekte" und öffnet den entsprechenden Datenpunkt. Ganz rechts habt ihr nun die Möglichkeit, durch Klick auf das Zahnrad-Symbol eine Historie anzulegen. ![ioBroker-SQL03.PNG](http://forum.iobroker.net/download/file.php?id=5760&t=1) Es öffnet sich das nachfolgende Fenster, in dem ihr lediglich einen Haken bei "Aktiviert" setzen müsst. Um den Daten-Traffic nicht allzu groß werden zu lassen, könnt ihr zusätzlich noch einen Haken bei "Nur Änderungen aufzeichnen" setzen. Dies hat aber unmittelbaren Einfluss auf die Flot-Anzeige. Aber dazu später mehr. ![ioBroker-SQL04.PNG](http://forum.iobroker.net/download/file.php?id=5761&t=1) Das Fenster hat noch zwei weitere Reiter: "Tabelle" und "Grafik". Darüber habt ihr die Möglichkeit, die in der SQL-Datenbank abgespeicherten Datenpunkt-Werte auszulesen bzw. als Grafik anzeigen zu lassen. Anfänglich steht hier noch "No Data", so lange kein Wert abgespeichert wurde. Je nachdem, ob ihr einen Haken vor "Nur Änderungen aufzeichnen" gesetzt habt, sollten hier aber bereits nach einer gewissen Zeit Werte angezeigt werden. ![ioBroker-SQL05.PNG](http://forum.iobroker.net/download/file.php?id=5762&t=1) ![ioBroker-SQL06.PNG](http://forum.iobroker.net/download/file.php?id=5763&t=1) Das war's dann auch schon mit der Einrichtung des SQL-Adapters. Später gehe ich noch kurz auf den Flot-Adapter ein. Aber der ist eigentlich selbsterklärend. Danke an [dtp](http://forum.iobroker.net/viewtopic.php?f=17&t=3686).